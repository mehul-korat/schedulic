<div class="content-main" id="live_appointments">
    <div class="loader-main" *ngIf="isLoaderAdmin"><img src="../../../assets/images/sc-loader.svg" /></div>
    <mat-tab-group [(selectedIndex)]="selectedtab" (selectedTabChange)="onTabChanged($event)" mat-align-tabs="start"
        class="main-tab-grp common-tab-group">
        <mat-tab>
            <ng-template mat-tab-label>
                <img class="mr-0" src="/assets/images/icons/dashboard.svg" />
            </ng-template>
        </mat-tab>
        <mat-tab label="In Store">
            <ng-template mat-tab-label>
                <img src="/assets/images/icons/store-live.svg" /> In Store
            </ng-template>
            <div class="in-store-tabs"
                [ngClass]="{'service-tab': inStoreTabName == 'service','waiting-tab': inStoreTabName == 'waiting'}">
                <div class="sub-header">
                    <div class="top-tabs">
                        <label [ngClass]="{'active': inStoreTabName == 'service'}" (click)="fnChangeSubTab('service')"
                            class="signle-tab"><span><img src="/assets/images/icons/bolt.svg" /></span>Service</label>
                        <label [ngClass]="{'active': inStoreTabName == 'waiting'}" (click)="fnChangeSubTab('waiting')"
                            class="signle-tab"><span><img
                                    src="/assets/images/icons/third-quarter.svg" /></span>Waiting</label>
                    </div>
                    <div class="seach-bar">
                        <div class="searchbox mr-2">
                            <form class="search_input-staff">
                                <div class="has-search">
                                    <mat-icon class="form-control-feedback">search</mat-icon>
                                    <input name="searchKeyword" (keyup)="fnSearch($event.target.value)" type="text"
                                        class="form-control searchbox_appointment" [placeholder]="inStoreTabName == 'service' ? 'Search for service': 'Search for service, order id'">
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="today-time-function">
                        <label class="live-time">{{liveTime}}</label>
                        <label class="live-date">{{liveDate}}</label>
                    </div>
                </div>
                <div *ngIf="inStoreTabName == 'service'" class="service-container">
                    <div class="left-side-booking">
                        <div class="row mx-0 h-100">
                            <div id="all-category-list" class="col-3 p-0">
                                <ul *ngIf="CategoryList.length > 0">
                                    <li class="bottom-border plr-25">
                                        <p class="category-lable">Categories</p>
                                    </li>
                                    <li class="bottom-border plr-25 pointer "
                                        [ngClass]="{'active':inStoreSelectedCat === 'all'}">
                                        <p class="title-main" (click)="fngetService('')">
                                            All Services
                                        </p>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="11.497" height="20.11"
                                            viewBox="0 0 11.497 20.11">
                                            <path id="Icon_ionic-ios-arrow-back" data-name="Icon ionic-ios-arrow-back"
                                                d="M19.282,16.246l-7.609-7.6a1.437,1.437,0,0,1,2.035-2.03l8.621,8.615a1.434,1.434,0,0,1,.042,1.982l-8.657,8.675a1.437,1.437,0,0,1-2.035-2.03Z"
                                                transform="translate(-11.251 -6.194)" fill="#00a89b" />
                                        </svg>
                                    </li>

                                    <li (click)="fngetService(val.id)"
                                        [ngClass]="{'active':inStoreSelectedCat === val.id}"
                                        class="bottom-border plr-25 pointer"
                                        *ngFor="let val of CategoryList; let i=index">
                                        <p class="title-main">
                                            {{val.category_title}}

                                        </p>
                                        <svg xmlns="http://www.w3.org/2000/svg" width="11.497" height="20.11"
                                            viewBox="0 0 11.497 20.11">
                                            <path id="Icon_ionic-ios-arrow-back" data-name="Icon ionic-ios-arrow-back"
                                                d="M19.282,16.246l-7.609-7.6a1.437,1.437,0,0,1,2.035-2.03l8.621,8.615a1.434,1.434,0,0,1,.042,1.982l-8.657,8.675a1.437,1.437,0,0,1-2.035-2.03Z"
                                                transform="translate(-11.251 -6.194)" fill="#00a89b" />
                                        </svg>
                                    </li>

                                </ul>

                                <ul class="px-2" *ngIf="CategoryList.length == 0">
                                    <li class="bottom-border plr-25 pl-1">
                                        <p class="title-heading-main">Categories</p>
                                    </li>
                                    <li class="bottom-border custom-li-wrap plr-25 pl-1 pr-1">
                                        <p class="title-heading-main"></p>
                                        <i class="material-icons-outlined">
                                            chevron_right
                                        </i>
                                    </li>
                                    <li class="bottom-border custom-li-wrap plr-25 pl-1 pr-1">
                                        <p class="title-heading-main-1"></p>
                                        <i class="material-icons-outlined">
                                            chevron_right
                                        </i>
                                    </li>
                                    <li class="bottom-border custom-li-wrap plr-25 pl-1 pr-1">
                                        <p class="title-heading-main-2"></p>
                                        <i class="material-icons-outlined">
                                            chevron_right
                                        </i>
                                    </li>
                                    <li class="bottom-border custom-li-wrap plr-25 pl-1 pr-1">
                                        <p class="title-heading-main-3"></p>
                                        <i class="material-icons-outlined">
                                            chevron_right
                                        </i>
                                    </li>
                                    <li class="bottom-border custom-li-wrap plr-25 pl-1 pr-1">
                                        <p class="title-heading-main-4"></p>
                                        <i class="material-icons-outlined">
                                            chevron_right
                                        </i>
                                    </li>
                                </ul>
                            </div>
                            <div class="service-list-main col-6 py-3">
                                <div class="row mx-0" *ngIf="ServiceList.length > 0">
                                    <div class="col-6 col-lg-4 px-2" *ngFor="let val of ServiceList; let i=index">
                                        <input class="d-none" type="radio" name="service" id="service-{{i}}">
                                        <label for="service-{{i}}" [ngClass]="{'selected': val.id == service_id}"
                                            class="signle-service" (click)="fngetStaff(val.id,i)">
                                            <img [src]="val.service_image" />
                                            <div class="service-label">
                                                <p>{{val.service_name}}</p>
                                            </div>
                                        </label>
                                    </div>
                                </div>
                                <div class="no-service-data d-flex h-100 justify-content-center align-items-center"
                                    *ngIf="ServiceList.length == 0">
                                    <div class="no-data-badge">
                                        <img src="/assets/images/nodata.svg" />
                                        <label>No Data Found.</label>
                                    </div>
                                </div>
                            </div>
                            <div class="col-12 col-md-3 col-lg-3 px-0 h-100">
                                <div class="select-staff-container">
                                    <div class="head">
                                        <h3>Staff</h3>
                                        <mat-select *ngIf="staffListDisplay" placeholder="Staff Status"
                                            class="form-control form-control-transparent"
                                            (selectionChange)="fnFilterStaff($event.value)">
                                            <mat-option value="all">All</mat-option>
                                            <mat-option value="ideal">Available</mat-option>
                                            <mat-option value="working">Working</mat-option>
                                        </mat-select>
                                    </div>
                                    <div *ngIf="StaffList.length > 0">

                                    <div class="single-staff" *ngFor="let val of StaffList; let i=index">
                                        <div class="left-side">
                                            <label>{{val.name}}</label>
                                            <p>{{val.status}}</p>
                                            <span class="time">From {{val.from}}</span>
                                        </div>
                                        <div class="right-side">
                                            <p>Free At</p>
                                            <span class="time">{{val.free_at?val.free_at:'-'}}</span>
                                            <button mat-button class="assign-btn"
                                                (click)="fnAssignStaff(val.id,i)">Assign</button>
                                        </div>
                                    </div>
                                    </div>
                                    <div class="no-service-data" *ngIf="!staffListDisplay && StaffList.length == 0">
                                        <div class="staff-no-data-wrap">
                                            <ul class="custom-staff-wrap">
                                                <li>
                                                    <p class="title-heading-main"></p>
                                                    <p class="title-heading-main-1"></p>
                                                    <p class="title-heading-main-2"></p>
                                                    <div class="first-common-wrap">
                                                        <span></span>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p class="title-heading-main"></p>
                                                    <p class="title-heading-main-1"></p>
                                                    <p class="title-heading-main-2"></p>
                                                    <div class="first-common-wrap">
                                                        <span></span>
                                                    </div>
                                                </li>
                                                <li>
                                                    <p class="title-heading-main"></p>
                                                    <p class="title-heading-main-1"></p>
                                                    <p class="title-heading-main-2"></p>
                                                    <div class="first-common-wrap">
                                                        <span></span>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                    <div class="no-staff-data" *ngIf="staffListDisplay && StaffList.length == 0">
                                        <div class="no-data-badge">
                                            <img src="/assets/images/nodata.svg" />
                                            <label>No Data Found.</label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="right-cart-container">
                        <div class="cart-head">
                            <h3>New Order</h3>
                        </div>
                        <div class="customer-container">
                            <mat-accordion>
                                <mat-expansion-panel [expanded]="panelOpenState" (opened)="panelOpenState = true"
                                    (closed)="panelOpenState = false">
                                    <mat-expansion-panel-header>
                                        <mat-panel-title>
                                            Add Customer Details
                                        </mat-panel-title>
                                    </mat-expansion-panel-header>
                                    <div class="cutomer-form-body">
                                        <p>Please Enter Customer Details</p>
                                        <form [formGroup]="newCustomer">
                                            <div class="row mb-3">
                                                <div class="common-input col-lg-6 col-12 col-md-6">
                                                    <div class="form-group">
                                                        <input type="text" formControlName="cus_name"
                                                            class="form-control" placeholder="Enter name">
                                                    </div>
                                                    <span class="error-wrap"
                                                        *ngIf="newCustomer.get('cus_name').dirty || newCustomer.get('cus_name').touched">
                                                        <small *ngIf="newCustomer.get('cus_name').hasError('required')"
                                                            class="error">Fullname is required.</small>
                                                    </span>
                                                </div>
                                                <div class="common-input col-lg-6 col-12 col-md-6">
                                                    <div class="form-group">
                                                        <input type="text" formControlName="cus_mobile"
                                                            class="form-control" placeholder="Enter mobile no.">
                                                    </div>
                                                    <span class="error-wrap"
                                                        *ngIf="newCustomer.get('cus_mobile').dirty || newCustomer.get('cus_mobile').touched">
                                                        <small
                                                            *ngIf="newCustomer.get('cus_mobile').hasError('required') || (newCustomer.get('cus_mobile').hasError('required') && newCustomer.get('cus_mobile').hasError('minlength') || newCustomer.get('cus_mobile').hasError('maxlength'))"
                                                            class="error">Mobile number is required.</small>
                                                        <small
                                                            *ngIf="newCustomer.get('cus_mobile').hasError('minlength') || newCustomer.get('cus_mobile').hasError('maxlength')"
                                                            class="error">Mobile number should be minimum 6 or maximum
                                                            15 digits.</small>
                                                        <small *ngIf="newCustomer.get('cus_mobile').hasError('pattern')"
                                                            class="error">Mobile number should be numbers only (Country
                                                            code is required)..</small>
                                                        <small
                                                            *ngIf="newCustomer.get('cus_mobile').hasError('isPhoneUnique')"
                                                            class="error">Phone No is already in use.</small>
                                                    </span>
                                                </div>
                                                <div class="common-input col-lg-12 col-12 col-md-12">
                                                    <div class="form-group">
                                                        <input type="text" formControlName="cus_email"
                                                            class="form-control" placeholder="Enter email address">
                                                    </div>
                                                    <span class="error-wrap"
                                                        *ngIf="newCustomer.get('cus_email').dirty || newCustomer.get('cus_email').touched">
                                                        <small *ngIf="newCustomer.get('cus_email').hasError('required')"
                                                            class="error">Email is required.</small>
                                                        <small *ngIf="newCustomer.get('cus_email').hasError('pattern')"
                                                            class="error">Enter valid email address.</small>
                                                        <small
                                                            *ngIf="newCustomer.get('cus_email').hasError('isEmailUnique')"
                                                            class="error">Email already in use.</small>
                                                    </span>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </mat-expansion-panel>
                            </mat-accordion>
                        </div>
                        <div class="cart-items">
                            <div class="item-header" fxLayout="row">
                                <div class="" fxFlex="10"></div>
                                <div class="" fxFlex="40">Services</div>
                                <div class="" fxFlex="35">Qty</div>
                                <div class="" fxFlex="15">Price</div>
                            </div>
                            <div class="item-list">

                                <div class="item" *ngFor="let val of cartArr; let i=index">
                                    <div class="" fxFlex="10"><i (click)="fnDeleteItem(i)" class="fa fa-trash pointer"
                                            aria-hidden="true"></i></div>
                                    <div class="service-name" fxFlex="45">
                                        <label>{{val.service_name}}</label>
                                        <label class="staff-name">Staff : {{val.StaffName}}</label>
                                    </div>
                                    <div class="" fxFlex="35">
                                        <div class="qty-counter">
                                            <button mat-fab class="action-btn qty-minus"
                                                (click)="fncartUpdate('minus',i)">-</button>
                                            <input type="text" class="qty_value" id="servicecount_1"
                                                value="{{val.count}}" readonly />
                                            <button mat-fab class="action-btn qty-minus"
                                                (click)="fncartUpdate('plus',i)">+</button>
                                        </div>
                                    </div>
                                    <div class="" fxFlex="15" *ngIf="currencySymbolPosition=='left'"> {{currencySymbol|
                                        currencySymbol: 'wide'}} {{ val.totalCost | currency:selectedCurrency: '':
                                        '1.2-2':currencySymbolFormat }}</div>
                                    <div class="" fxFlex="15" *ngIf="currencySymbolPosition=='right'">{{ val.totalCost |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol|
                                        currencySymbol:'wide'}}</div>
                                </div>
                                <div class="item subtotal">
                                    <div class="service-name" fxFlex="70">
                                        <label *ngIf="currencySymbolPosition=='left'">Subtotal : {{currencySymbol|
                                            currencySymbol:'wide'}} {{ subTotalCost |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</label>
                                        <label *ngIf="currencySymbolPosition=='right'">Subtotal : {{ subTotalCost |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}
                                            {{currencySymbol| currencySymbol:'wide'}}</label>
                                    </div>
                                    <!-- <div class="" fxFlex="30">Tax : <i class="fa fa-rupee pr-1"></i> {{totalTax}}</div> -->
                                    <div class="" fxFlex="30" *ngIf="currencySymbolPosition=='left'">Tax :
                                        {{currencySymbol| currencySymbol:'wide'}} {{ totalTax |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</div>
                                    <div class="" fxFlex="30" *ngIf="currencySymbolPosition=='right'">Tax : {{ totalTax
                                        | currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol|
                                        currencySymbol:'wide'}}</div>
                                </div>
                            </div>
                            <div class="cart-footer">
                                <div class="add-note">
                                    <p *ngIf="!note_description" (click)="fnAddNote()" class="title">Add Note</p>
                                    <p *ngIf="note_description" (click)="fnAddNote()" class="title with-icon d-flex">
                                        Note :
                                        <mat-icon>sticky_note_2</mat-icon>
                                    </p>
                                </div>
                                <div class="add-note justify-content-between">
                                    <p [ngClass]="{'disbaled-lable' : posCouponApplied && appliedCouponDetail}" (click)="openCouponModal()" class="title">Apply Coupon</p>
                                    <span *ngIf="posCouponApplied && appliedCouponDetail">
                                        {{appliedCouponDetail.coupon_title}} 
                                        <span class="material-icons pointer" (click)="removeCoupon()"> highlight_off </span>
                                    </span>
                                    <span *ngIf="posCouponApplied && appliedCouponDetail && currencySymbolPosition=='left'">-{{currencySymbol| currencySymbol:'wide'}} {{ discount_amount | currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</span>
                                    <span *ngIf="posCouponApplied && appliedCouponDetail && currencySymbolPosition=='right'">-{{ discount_amount | currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol| currencySymbol:'wide'}}</span>
                                </div>
                                <div class="total" *ngIf="!posCouponApplied">
                                    <p fxFlex="50" class="title text-left">Total</p>
                                    <p fxFlex="50" class="amount text-right mb-0"
                                        *ngIf="currencySymbolPosition=='left'"> {{currencySymbol|
                                        currencySymbol:'wide'}} {{ (subTotalCost+totalTax) |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</p>
                                    <p fxFlex="50" class="amount text-right mb-0"
                                        *ngIf="currencySymbolPosition=='right'"> {{ (subTotalCost+totalTax) |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol|
                                        currencySymbol:'wide'}}</p>
                                </div>
                                <div class="total" *ngIf="posCouponApplied">
                                    <p fxFlex="50" class="title text-left">Total</p>
                                    <p fxFlex="50" class="amount text-right mb-0"
                                        *ngIf="currencySymbolPosition=='left'"> {{currencySymbol|
                                        currencySymbol:'wide'}} {{ (appointmentAmountAfterDiscount+totalTax) |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</p>
                                    <p fxFlex="50" class="amount text-right mb-0"
                                        *ngIf="currencySymbolPosition=='right'"> {{ (appointmentAmountAfterDiscount+totalTax) |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol|
                                        currencySymbol:'wide'}}</p>
                                </div>
                                <div class="footer-action">
                                    <button class="sc-pink-btn text-white min-width-auto"
                                        [disabled]="cartArr.length == 0" (click)="fnPaymentMode('print')"
                                        mat-button>Save & Print</button>
                                    <button class="sc-pink-btn text-white min-width-auto"
                                        [disabled]="cartArr.length == 0" (click)="fnPaymentMode('email')"
                                        mat-button>Save & Ebill</button>
                                    <button class="sc-light-green-btn text-white min-width-auto"
                                        [disabled]="cartArr.length == 0" mat-button
                                        (click)="fnplaceOrder('place')">Place</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div *ngIf="inStoreTabName == 'waiting'" class="waiting-container">
                    <div class="row mx-0 my-2" *ngIf="Watinglist.length > 0">
                        <div *ngFor="let val of Watinglist; let i=index"
                            class="col-12 col-sm-6 col-md-4 col-lg-3 single-booking float-left">
                            <mat-card class="card">
                                <div class="row">
                                    <div class="col-6">
                                        <label class="single-value">
                                            <p class="title">Waiting No.</p>
                                            <p class="value">{{i+1}}</p>
                                        </label>
                                        <label class="single-value">
                                            <p class="title">Customer</p>
                                            <p class="value">{{val.customer?val.customer.fullname:'-'}}</p>
                                        </label>
                                        <label class="single-value">
                                            <p class="title">Staff</p>
                                            <p class="value">{{val.staff ? val.staff.firstname : '-' +'
                                                '+val.staff?val.staff.lastname:'-'}}</p>
                                        </label>
                                    </div>
                                    <div class="col-6 right-side">
                                        <label class="single-value">
                                            <p class="title">Time</p>
                                            <p class="value">{{todayTime}}</p>
                                        </label>
                                        <label class="single-value">
                                            <p class="title">Order ID</p>
                                            <p class="value">{{val.order_id}}</p>
                                        </label>
                                        <label class="single-value">
                                            <p class="title">Work Start At</p>
                                            <p class="value">{{val.booking_time}}</p>
                                        </label>
                                    </div>
                                    <div class="col-12 service-list-head">
                                        <div class="w-50 float-left title text-left">
                                            Service
                                        </div>
                                        <div class="w-50 float-left title text-right">
                                            Qty.
                                        </div>
                                    </div>
                                    <div class="col-12 service-list">
                                        <div class="w-50 float-left title text-left">
                                            {{val.service.service_name}}
                                        </div>
                                        <div class="w-50 float-left title text-right">
                                            {{val.service_qty}}
                                        </div>
                                    </div>
                                    <div class="col-12 action-list">
                                        <div class="w-50 float-left text-left">
                                            <button mat-button class="cancel-btn"
                                                (click)="fncancelOrder(val.id);">Cancel</button>
                                        </div>
                                        <div class="w-50 float-left text-right right-side">
                                            <mat-icon *ngIf="val.booking_notes !== null"
                                                (click)="fnShowNote(val.booking_notes.notes)">sticky_note_2</mat-icon>
                                            <img src="/assets/images/icons/timer-clock.svg">
                                            <span class="timing"><small class="title">hh:mm:ss</small>
                                                <!-- {{counter | formatTime}} -->
                                                <!-- {{hoursToDday}} :{{minutesToDday}} : {{secondsToDday}} -->
                                                {{countDown(val.booking_date+' '+val.booking_time)}}
                                            </span>
                                        </div>
                                    </div>
                                </div>
                            </mat-card>
                        </div>
                    </div>
                    <div class="no-waiting-data" *ngIf="Watinglist.length == 0">
                        <div class="no-data-badge">
                            <img src="/assets/images/nodata.svg" />
                            <label>No Data Found.</label>
                        </div>
                    </div>
                </div>
            </div>

        </mat-tab>
        <mat-tab>
            <ng-template mat-tab-label>
                <img src="/assets/images/icons/pending-live.svg" /> Pending
            </ng-template>
            <div class="common-header">
                <label class="tab-label">Pending</label>
                <div class="seach-bar">
                    <div class="searchbox mr-2">
                        <div class="search_input-staff">
                            <div class="has-search">
                                <mat-icon class="form-control-feedback">search</mat-icon>
                                <input [(ngModel)]="search.pendingKeyword" (keyup)="pendingAppointSearch($event)"
                                    type="text" class="form-control searchbox_appointment"
                                    placeholder="Search for service, order id">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="today-time-function">
                    <label class="live-time">{{liveTime}}</label>
                    <label class="live-date">{{liveDate}}</label>
                </div>
            </div>
            <div class="col-12 p-0">
                <div class="table-background">
                    <div class="Pending-table">
                        <div class="main-table-content main-cust-table-content">
                            <div class="main-table-head" fxLayout="row">
                                <div class="" fxFlex="20">Services</div>
                                <div class="" fxFlex="25">Customer</div>
                                <div class="" fxFlex="25">Staff</div>
                                <div class="" fxFlex="10">Amount</div>
                                <div class="" fxFlex="10">Date</div>
                                <div class="" fxFlex="10">Time</div>
                            </div>
                            <div class="content" class="appointment-live-list" *ngIf="pendingAppointments.length > 0">
                                <div (click)="fnOpenDetails(i)" *ngFor="let element of pendingAppointments; let i=index"
                                    class="appointment-live-list-details">
                                    <div class="" fxFlex="20">
                                        <p class="mb-0 custom-font-weight">Order Id: {{element.id}}</p>
                                        <p class="mb-0">Unit : {{element.service?element.service.service_unit:''}}</p>
                                        <p class="mb-0">{{element.service?element.service.service_name:''}}</p>
                                    </div>
                                    <div class=" " fxFlex="25">
                                        <p class="mb-0 custom-font-weight">
                                            {{element.customer?element.customer.fullname:''}}</p>
                                        <p class="mb-0"><i class="fa fa-phone mr-2 bluephone"></i>Phone
                                            No:{{element.customer?element.customer.phone:''}}</p>
                                        <p class="mb-0"><i
                                                class="fa fa-envelope-o mr-2 bluephone"></i>Email:{{element.customer?element.customer.email:''}}
                                        </p>
                                    </div>
                                    <div *ngIf="element.staff != null" class="" fxFlex="25">
                                        <p class="mb-0 custom-font-weight">{{element.staff?element.staff.firstname+'
                                            '+element.staff.lastname :''}}</p>
                                        <p class="mb-0"><i class="fa fa-phone mr-2 bluephone"></i>Phone
                                            No:{{element.staff?element.staff.phone:''}}</p>
                                        <p class="mb-0"><i
                                                class="fa fa-envelope-o mr-2 bluephone"></i>Email:{{element.staff?element.staff.email:''}}
                                        </p>
                                    </div>
                                    <div *ngIf="element.order_status == 'P'" class="" fxFlex="25">
                                        <p class="mb-0">Pending</p>
                                    </div>
                                    <div *ngIf="element.order_status == 'CNF' && element.staff == null" class=""
                                        fxFlex="25">
                                        <p class="mb-0">--</p>
                                    </div>
                                    <div class="custom-font-weight" fxFlex="10" *ngIf="currencySymbolPosition=='left'">
                                        {{currencySymbol| currencySymbol:'wide'}} {{ element.total_cost |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}
                                    </div>
                                    <div class="custom-font-weight" fxFlex="10" *ngIf="currencySymbolPosition=='right'">
                                        {{ element.total_cost |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol|
                                        currencySymbol:'wide'}}
                                    </div>
                                    <div class="custom-font-weight" fxFlex="10">
                                        {{element.booking_date}}
                                    </div>
                                    <div class="custom-font-weight" fxFlex="10">
                                        {{element.booking_time}}
                                    </div>
                                </div>
                            </div>
                            <div class="no-live-data appointment-live-list" *ngIf="pendingAppointments.length == 0">
                                <div class="no-data-badge">
                                    <img src="/assets/images/nodata.svg" />
                                    <label>No Data Found.</label>
                                </div>
                            </div>
                        </div>

                        <div class="table_pagination" *ngIf="pendingAppointments.length > 0">
                            <div class="col-3 pull-left">Showing records from {{fromRecord_pending}}-{{toRecord_pending}} (
                                Total {{totalRecord_pending}} )</div>
                            <nav aria-label="Page navigation example">
                                <ul class="pagination justify-content-end">
                                    <li class="page-item {{current_page_pending==1?'pointernone':''}} "
                                        (click)="navigateTo_pending(first_page_url_pending)"><a class="page-link"><i
                                                class="fa fa-angle-double-left arrow-icon" aria-hidden="true"></i></a>
                                    </li>
                                    <li class="page-item" (click)="navigateTo_pending(prev_page_url_pending)"><a
                                            class="page-link"><i class="fa fa-angle-left arrow-icon"
                                                aria-hidden="true"></i></a></li>
                                    <li class="page-item" [ngClass]="{'active':current_page_pending == i+1}"
                                        *ngFor="let pagenumber of arrayOne_pending(last_page_pending); let i = index;"
                                        (click)="navigateToPageNumber_pending(i+1)"><a class="page-link">{{i+1}}</a>
                                    </li>
                                    <li class="page-item" (click)="navigateTo_pending(next_page_url_pending)"><a
                                            class="page-link"><i class="fa fa-angle-right arrow-icon"
                                                aria-hidden="true"></i></a></li>
                                    <li class="page-item {{arrayOne_pending(last_page_pending).length==current_page_pending?'pointernone':''}} "
                                        (click)="navigateTo_pending(last_page_url_pending)"><a class="page-link"><i
                                                class="fa fa-angle-double-right arrow-icon" aria-hidden="true"></i></a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </mat-tab>
        <mat-tab class="onthewaylabel">
            <ng-template mat-tab-label>
                <img src="/assets/images/icons/outdoor-live.svg" /> Out Door
            </ng-template>
            <div class="common-header">
                <label class="tab-label"><span><img src="/assets/images/icons/out-door-loc-icon.svg" /></span> Out
                    Door</label>
                <div class="today-time-function">
                    <label class="live-time">{{liveTime}}</label>
                    <label class="live-date">{{liveDate}}</label>
                </div>
            </div>
            <div class="out-door-container">
                <div class="left-container">
                    <div class="searchbox col-12 mt-3">
                        <form class="search_input-staff">
                            <div class="has-search">
                                <mat-icon class="form-control-feedback">search</mat-icon>
                                <input (keyup)="fnOutdoorOrders($event.target.value,'order_id')" type="text"
                                    class="form-control searchbox_appointment" placeholder="Search by Order ID">
                            </div>
                        </form>
                    </div>
                    <div class="order-listing" *ngIf="outdoorOrdersArr.length > 0">
                        <div class="single-order" *ngFor="let val of outdoorOrdersArr;let i=index">
                            <label class="order-id">Order ID : {{val.order_id}}</label>
                            <div class="location-container" (click)="OutDootMap(i)">
                                <div class="pickup-point">
                                    <img src="/assets/images/admin/delivery.png">
                                    <p>Service Agent Live Location</p>
                                </div>
                                <div class="drop-point">
                                    <mat-icon>location_on</mat-icon>
                                    <p>{{address[i]}}</p>
                                </div>
                            </div>
                            <div class="action-btn mt-2">
                                <button (click)="fnOpenOnTheWayDetails(val);" mat-button class="detail-btn">Appointment
                                    Details</button>
                                <button *ngIf="val.order_status=='OW'" mat-button class="ws-btn"
                                    (click)="fnOrderUpdateStatus(val.order_status,val.id,'out_store')">Work Started
                                </button>
                                <button *ngIf="val.order_status=='WS'" mat-button class="ws-btn"
                                    (click)="fnOrderUpdateStatus(val.order_status,val.id,'out_store')">Completed
                                </button>
                                <button *ngIf="val.order_status!='WS' && val.order_status!='OW'" mat-button
                                    class="otw-btn" (click)="fnOrderUpdateStatus(val.order_status,val.id,'out_store')">
                                    On The Way
                                </button>
                                <!-- <button mat-button class="ws-btn" (click)="fnOrderUpdateStatus(val.order_status,val.id,'in_store')" *ngIf="val.service.service_sub_type=='in_store'">
                                    {{val.order_status=="AC"?"Work Started ":"Completedeed"}} 
                                </button> -->
                            </div>
                        </div>
                    </div>
                    <div class="w-100" *ngIf="outdoorOrdersArr.length == 0">
                        <div class="out-door-no-data">
                            <!-- <img src="/assets/images/nodata.svg" />
                            <label>No Data Found.</label> -->
                            <div class="custom-outdoor-wrap p-3">
                                <p class="title-heading-main"></p>
                                <div class="pickup-point">
                                    <img src="/assets/images/admin/Path 83.png">
                                    <p class="title-heading-main-1"></p>
                                </div>
                                <div class="drop-point">
                                    <mat-icon>location_on</mat-icon>
                                    <p class="title-heading-main-2"></p>
                                </div>
                                <div class="d-flex appon-second-sec">
                                    <div class="first-common-wrap">
                                        <span></span>
                                    </div>
                                    <div class="second-common-wrap">
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                            <div class="custom-outdoor-wrap p-3">
                                <p class="title-heading-main"></p>
                                <div class="drop-point">
                                    <mat-icon>location_on</mat-icon>
                                    <p class="title-heading-main-2"></p>
                                </div>
                                <div class="d-flex appon-second-sec">
                                    <div class="first-common-wrap">
                                        <span></span>
                                    </div>
                                    <div class="second-common-wrap">
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                            <div class="custom-outdoor-wrap p-3">
                                <p class="title-heading-main"></p>
                                <div class="drop-point">
                                    <mat-icon>location_on</mat-icon>
                                    <p class="title-heading-main-2"></p>
                                </div>
                                <div class="d-flex appon-second-sec">
                                    <div class="first-common-wrap">
                                        <span></span>
                                    </div>
                                    <div class="second-common-wrap">
                                        <span></span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <agm-map [latitude]="lat" [longitude]="lng" [zoom]="35" *ngIf="ShowMap">
                    <agm-marker
                        [latitude]="lat"
                        [longitude]="lng"
                        [iconUrl]="'assets/img/scooter-front-view.svg'"       
                        >
                    </agm-marker>
                        <agm-marker
                        [latitude]="dlat"
                        [longitude]="dlng"
                        [iconUrl]="'assets/img/customer-map-marker.svg'"       
                        >
                    </agm-marker>
                    <agm-direction [origin]="origin" [destination]="destination" [renderOptions]="renderOptions">
                    </agm-direction>
                </agm-map>
                <!-- <p *ngIf="!ShowMap && outdoorOrdersArr.length > 0" class="col-6 text-right mt-4"><strong>No At Home Bookings</strong></p> -->
                <div class="no-out-door-map-data" *ngIf="outdoorOrdersArr.length == 0">
                    <div class="no-data-badge">
                        <img src="/assets/images/nodata.svg" />
                        <label>No Data Found.</label>
                    </div>
                </div>
            </div>

        </mat-tab>

        <mat-tab class="workstartedlabel">
            <ng-template mat-tab-label>
                <img src="/assets/images/icons/workstarted-live.svg" /> Work Started
            </ng-template>
            <div class="common-header">
                <label class="tab-label">Work Started</label>
                <div class="seach-bar">
                    <div class="searchbox mr-2">
                        <div class="search_input-staff">
                            <div class="has-search">
                                <mat-icon class="form-control-feedback">search</mat-icon>
                                <input [(ngModel)]="search.workStartedKeyword" (keyup)="WSAppointSearch()" type="text"
                                    class="form-control searchbox_appointment" placeholder="Search for items">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="today-time-function">
                    <label class="live-time">{{liveTime}}</label>
                    <label class="live-date">{{liveDate}}</label>
                </div>
            </div>
            <div class="col-12 p-0">
                <div class="table-background">
                    <div class="Pending-table">
                        <div class="main-table-content main-cust-table-content">
                            <div class="main-table-head" fxLayout="row">
                                <div class="" fxFlex="20">Services</div>
                                <div class="" fxFlex="10">Order From</div>
                                <div class="" fxFlex="20">Customer</div>
                                <div class="" fxFlex="20">Staff</div>
                                <div class="" fxFlex="10">Amount</div>
                                <div class="" fxFlex="10">Date</div>
                                <div class="" fxFlex="10">Time</div>
                            </div>
                            <div class="content" class="appointment-live-list"
                                *ngIf="workStartedAppointments.length > 0">
                                <div (click)="fnOpenWorkStartedDetails(i)"
                                    *ngFor="let element of workStartedAppointments; let i=index"
                                    class="appointment-live-list-details">
                                    <div class="" *ngIf="element.service" fxFlex="20">
                                        <p class="mb-0">Order Id: {{element.id}}</p>
                                        <p class="mb-0">{{element.service.service_name}}</p>
                                    </div>
                                    <div class="" fxFlex="10">
                                        <p class="mb-0 custom-font-weight">{{element.order_from}}</p>
                                    </div>
                                    <div class="" *ngIf="element.customer" fxFlex="20">
                                        <p class="mb-0 custom-font-weight">{{element.customer.fullname}}</p>
                                        <p class="mb-0"><i class="fa fa-phone mr-2 bluephone"></i>Phone
                                            No:{{element.customer.phone}}</p>
                                        <p class="mb-0"><i
                                                class="fa fa-envelope-o mr-2 bluephone"></i>Email:{{element.customer.email}}
                                        </p>
                                    </div>
                                    <div *ngIf="element.staff != null" class="" fxFlex="20">
                                        <p class="mb-0 custom-font-weight">{{element.staff?element.staff.firstname:'-'}}
                                            {{element.staff?element.staff.lastname:'-'}}</p>
                                        <p class="mb-0"><i class="fa fa-phone mr-2 bluephone"></i>Phone
                                            No:{{element.staff.phone?element.staff.phone:''}}</p>
                                        <p class="mb-0"><i
                                                class="fa fa-envelope-o mr-2 bluephone"></i>Email:{{element.staff.email?element.staff.email:''}}
                                        </p>
                                    </div>
                                    <div *ngIf="element.staff == null" class="" fxFlex="20">
                                        <p class="mb-0">Not Assigned</p>
                                    </div>
                                    <div class="" fxFlex="10">
                                        <p class="custom-font-weight mb-0" *ngIf="currencySymbolPosition=='left'">
                                            {{currencySymbol| currencySymbol:'wide'}} {{ element.total_cost |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</p>
                                        <p class="custom-font-weight mb-0" *ngIf="currencySymbolPosition=='right'">{{
                                            element.total_cost |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}
                                            {{currencySymbol| currencySymbol:'wide'}}</p>
                                    </div>
                                    <div class="custom-font-weight" fxFlex="10">
                                        {{element.booking_date}}
                                    </div>
                                    <div class="custom-font-weight" fxFlex="10">
                                        {{element.booking_time}}
                                    </div>
                                </div>
                            </div>
                            <div class="no-live-data appointment-live-list" *ngIf="workStartedAppointments.length == 0">
                                <div class="no-data-badge">
                                    <img src="/assets/images/nodata.svg" />
                                    <label>No Data Found.</label>
                                </div>
                            </div>
                        </div>
                        <div class="table_pagination" *ngIf="workStartedAppointments.length > 0">
                            <div class="col-3 pull-left">Showing records from
                                {{fromRecord_workstart}}-{{toRecord_workstart}} ( Total {{totalRecord_workstart}} )
                            </div>
                            <nav aria-label="Page navigation example">
                                <ul class="pagination justify-content-end">
                                    <li class="page-item {{current_page_workstart==1?'pointernone':'' }}"
                                        (click)="navigateTo_workstart(first_page_url_workstart)"><a class="page-link"><i
                                                class="fa fa-angle-double-left arrow-icon" aria-hidden="true"></i></a>
                                    </li>
                                    <li class="page-item" (click)="navigateTo_workstart(prev_page_url_workstart)"><a
                                            class="page-link"><i class="fa fa-angle-left arrow-icon"
                                                aria-hidden="true"></i></a></li>
                                    <li class="page-item" [ngClass]="{'active':current_page_workstart == i+1}"
                                        *ngFor="let pagenumber of arrayOne_workstart(last_page_workstart); let i = index;"
                                        (click)="navigateToPageNumber_workstart(i+1)"><a class="page-link">{{i+1}}</a>
                                    </li>
                                    <li class="page-item" (click)="navigateTo_workstart(next_page_url_workstart)"><a
                                            class="page-link"><i class="fa fa-angle-right arrow-icon"
                                                aria-hidden="true"></i></a></li>
                                    <li class="page-item {{arrayOne_workstart(last_page_workstart).length==current_page_workstart?'pointernone':''}}"
                                        (click)="navigateTo_workstart(last_page_url_workstart)"><a class="page-link"><i
                                                class="fa fa-angle-double-right arrow-icon" aria-hidden="true"></i></a>
                                    </li>
                                </ul>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>

        </mat-tab>
        <mat-tab class="pendingbillingtab">
            <ng-template mat-tab-label>
                <img src="/assets/images/icons/billing-live.svg" /> Pending Billing
            </ng-template>
            <div class="common-header">
                <div class="seach-bar">
                    <div class="searchbox mr-2">
                        <form class="search_input-staff">
                            <div class="has-search">
                                <mat-icon class="form-control-feedback">search</mat-icon>
                                <input (keyup)="fnPendingBilling($event.target.value)" type="text"
                                    class="form-control searchbox_appointment" placeholder="Search for service, order id">
                            </div>
                        </form>
                    </div>
                </div>
                <div class="today-time-function">
                    <label class="live-time">{{liveTime}}</label>
                    <label class="live-date">{{liveDate}}</label>
                </div>
            </div>
            <div class="container-fluid" *ngIf="pendingBillingData.length > 0">
                <div class="row">
                    <div class="col-8 col-lg-8 px-4 py-3 col-xl-9 left-order-listing">
                        <div class="row">
                            <div class="col-4 p-2" *ngFor="let val of pendingBillingData;let i=index">
                                <div
                                    class="p-3 rounded single-booking   {{val.is_selected==false?'select-bill':'unselect-bill'}} ">
                                    <div class="row ">
                                        <div class="col-6">
                                            <label>Order Id</label><br>
                                            <span>{{val.orders ? val.orders.id : '-'}}</span>
                                        </div>
                                        <div class="col-6 text-right">
                                            <label>Time</label><br>
                                            <span>{{val.orders ? val.orders.booking_time : '-'}}</span>
                                        </div>
                                    </div>

                                    <div *ngIf="val.get_customer" class="row ">
                                        <div class="col-6 pt-2">
                                            <label>Customer</label><br>
                                            <span>{{val.get_customer?val.get_customer.fullname:''}}</span>
                                        </div>
                                        <div class="col-6 pt-2 text-right">
                                            <label>Phone No.</label><br>
                                            <span>{{val.get_customer?val.get_customer.phone:''}}</span>
                                        </div>
                                    </div>

                                    <div class="row ">
                                        <div class="col-6 pt-2">
                                            <label>Staff</label><br>
                                            <span>{{val.orders.staff ? val.orders.staff.firstname:''}}
                                                {{val.orders.staff ? val.orders.staff.lastname:''}}</span>
                                        </div>
                                        <div class="col-6 pt-2 text-right">
                                            <label>Order From</label><br>
                                            <span>In Store</span>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row ">
                                        <div class="col-6">
                                            <span>Service</span>
                                        </div>
                                        <div class="col-6 text-right">
                                            <span>Qty.</span>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row ">
                                        <div class="col-8">
                                            <span
                                                *ngIf="val.service && val.service.service_sub_type == 'in_store'">{{val.service.service_name}}
                                                (In Store)</span>
                                            <span
                                                *ngIf="val.service && val.service.service_sub_type == 'at_home'">{{val.service.service_name}}
                                                (At Home)</span>
                                        </div>
                                        <div class="col-4 text-right">
                                            <span>{{val.orders ? val.orders.service_qty : '-'}}</span>
                                        </div>
                                    </div>
                                    <hr>
                                    <div class="row ">
                                        <div class="col-12 text-center">
                                            <button
                                                class="btn select-btn  {{val.is_selected==false?'btn-primary':'btn-secondary'}} "
                                                (click)="fnSelect(i,val.customer_id,val.order_item_id);">
                                                {{val.is_selected==false?'Selected':'Unselect'}}
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-4 col-lg-4 col-xl-3 px-0  billing-cart">
                        <div class="px-3 pt-3 pb-0 ord-bill-head">
                            Billing Order
                        </div>
                        <hr class="my-2 border-color-wrap">
                        <div class="px-3">
                            <div class="customer-details">Customer Details
                                <div class="row ">
                                    <div class="col-6 pt-2">
                                        <label>Name</label><br>
                                        <span>
                                            {{selectedBillCustomerData.get_customer?selectedBillCustomerData.get_customer.fullname:''}}
                                        </span>
                                    </div>
                                    <div class="col-6 pt-2">
                                        <label>Phone No.</label><br>
                                        <span>
                                            {{selectedBillCustomerData.get_customer?selectedBillCustomerData.get_customer.phone:''}}
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="order-items">
                            <div>
                                <div class="px-0 mt-3">
                                    <div class="px-3 mt-3 py-2 service-details-title">
                                        <div class="row  ">
                                            <div class="col-6">
                                                <span>Service</span>
                                            </div>
                                            <div class="col-3">
                                                <span>Qty.</span>
                                            </div>
                                            <div class="col-3 pr-3">
                                                <span>Price</span>
                                            </div>
                                        </div>
                                    </div>
                                    <div *ngFor="let val of pendingBillingData;let i=index" class="row col-12">
                                        <div *ngIf="val.is_selected==true" class="col-7">
                                            <span>{{val.service.service_name}}</span>
                                            <p>Staff : {{val.orders.staff ? val.orders.staff.firstname:''}}
                                                {{val.orders.staff ? val.orders.staff.lastname:''}}</p>
                                        </div>
                                        <div *ngIf="val.is_selected==true" class="col-3">
                                            <span>{{val.orders ? val.orders.service_qty: '-'}}</span>
                                        </div>
                                        <div *ngIf="val.is_selected==true" class="col-2">
                                            <span *ngIf="currencySymbolPosition=='left'"> {{currencySymbol|
                                                currencySymbol:'wide'}} {{ val.orders.service_cost |
                                                currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</span>
                                            <span *ngIf="currencySymbolPosition=='right'"> {{ val.orders.service_cost |
                                                currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}
                                                {{currencySymbol| currencySymbol:'wide'}}</span>
                                        </div>

                                    </div>
                                    <hr class="my-2 border-color-wrap">
                                </div>
                            </div>


                            <div class="px-3 mt-2">
                                <div class="row ">
                                    <div class="col-8">
                                        <span class="custom-font-weight" *ngIf="currencySymbolPosition=='left'">
                                            Subtotal : {{currencySymbol| currencySymbol:'wide'}} {{
                                            pendingBillingOrdeTotal |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</span>
                                        <span class="custom-font-weight" *ngIf="currencySymbolPosition=='right'">
                                            Subtotal : {{ pendingBillingOrdeTotal |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}
                                            {{currencySymbol| currencySymbol:'wide'}}</span>
                                    </div>
                                    <div class="col-4 ">
                                        <span class="custom-font-weight" *ngIf="currencySymbolPosition=='left'">
                                            Tax : {{currencySymbol| currencySymbol:'wide'}} {{
                                                pendingBillingTax |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</span>
                                        <span class="custom-font-weight" *ngIf="currencySymbolPosition=='right'">
                                            Tax : {{ pendingBillingTax |
                                            currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}
                                            {{currencySymbol| currencySymbol:'wide'}}</span>
                                        <!-- <span class="custom-font-weight">Tax : <i class="fa fa-rupee pr-1"></i> 0</span> -->
                                    </div>
                                </div>
                            </div>
                            <hr class="my-0 mt-2 border-color-wrap">
                        </div>
                        <div class="px-3 py-2 mt-3 total-bill">
                            <div class="row ">
                                <div class="col-8">
                                    <span>Total</span>
                                </div>
                                <div class="col-4 ">
                                    <span *ngIf="currencySymbolPosition=='left'"> {{currencySymbol|
                                        currencySymbol:'wide'}} {{ (pendingBillingOrdeTotal+pendingBillingTax) |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }}</span>
                                    <span *ngIf="currencySymbolPosition=='right'"> {{ (pendingBillingOrdeTotal+pendingBillingTax) |
                                        currency:selectedCurrency:'':'1.2-2':currencySymbolFormat }} {{currencySymbol|
                                        currencySymbol:'wide'}}</span>
                                </div>
                            </div>
                        </div>
                        <div class="px-3 py-2 text-center custom-bill-btn">
                            <button class="btn btn-secondary m-1 px-5" [disabled]="!selectedBillCustomer"
                                (click)="fnPaymentBillingMode('print')">Print</button>
                            <button class="btn btn-secondary m-1 px-5" [disabled]="!selectedBillCustomer"
                                (click)="fnPaymentBillingMode('email')">E-Bill</button>
                        </div>
                    </div>
                </div>
            </div>
            <div class="no-billing-data" *ngIf="pendingBillingData.length == 0">
                <div class="no-data-badge">
                    <img src="/assets/images/nodata.svg" />
                    <label>No Data Found.</label>
                </div>
            </div>
        </mat-tab>
    </mat-tab-group>
    <div class="admin-header">
        <span class="f13 d-flex align-items-center">
            <span class="profile-head">
                <div class="customer-profile-img m-2 float-left overflow-hidden" data="aaa">
                    <img class="h-100 w-100" src="{{currentUser.image}}" onerror="this.src='../assets/img/user.png';">
                </div>
                <p class="my-2 p-1" *ngIf="currentUser.full_name">{{currentUser.full_name}}</p>
            </span>
            <button mat-stroked-button class="bellborder notification-btn bell-color"
                (click)="openNotificationDialog()">
                <!-- <i mat-list-icon class="fa fa-bell-o" aria-hidden="true"></i> -->
                <img src="/assets/images/icons/notification-bell.svg" class="notification-svg">
                <span *ngIf="notificationData" class="count">{{notificationCount}}</span>
            </button>

        </span>
    </div>
</div>